<section  >

  <div class="container mt-5 pt-5" >
    <div   *ngIf=(!isload) class="snipper position-absolute  " >
      <!-- <div class=" spinner-grow text-muted  text-center"> -->
      <div class="div my ">

        <i class="fas fa-spinner fa-spin text-info fa-5x"></i>

      </div>



      <!-- </div> -->
    </div>
    <div class="row" *ngIf=(isload)>
      <div class="col-md-6">
        <button class="add-btn" data-toggle="modal" data-target="#Add_Note">Add Note</button>
      </div>


      <div class="col-md-5 offset-1 search-bar">
        <input class="form-control"  [(ngModel)]='term' tpe='text' placeholder="search by title name">
      </div>

      <div class="col-md-4 my-2   "   *ngFor='let not of AllNotes|search:term'>
        <div class="item  text-center rounded text-light text-cnter position-relative  myNote ">
          <h3 class='mt-5 pt-5 text-weight-bold'>{{not.title}}</h3>
          <p class="mt-5 text-light">{{not.desc}}</p>



          <div class="dropdown">
            <i class="fas fa-ellipsis-v" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
              aria-expanded="false"></i>

            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" href="#" data-toggle="modal"(click)='get_ID(not._id);EditNote()' data-target="#edit_Note">Edit<i
                  class="far fa-edit float-right  text-info"></i>
              </a>
              <a class="dropdown-item " href="#" data-toggle="modal"(click)='get_ID(not._id)' data-target="#DeleteBtn">Delete <i
                  class="far fa-trash-alt float-right text-danger"></i>

              </a>
            </div>
          </div>

        </div>
        <!-- close col -->
      </div>




      <!-- row close -->
    </div>


  </div>
  <!-- //============================================================================================= -->



  <!-- add Modal -->
  <div class="modal fade" id="Add_Note" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <form [formGroup]='addNotes' (ngSubmit)='addInfo()'>

        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body ">

            <!-- model body -->
             <div class="container   m-auto"> 

              <div class="row">
               
    
                 <div class="col-md-12">
                  <h3 class="text-center pt-2">{{title}}</h3>
                  <input type='text' formControlName='title'[(ngModel)]='title' class="form-control my-3" placeholder="Title">
                </div> 

                <div class="col-md-12">
                  <textarea class="form-control" formControlName='desc' rows="10"
                    placeholder="Add Description"></textarea>
                </div> 
              </div>


            </div> 
<!-- end of model body-->
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary">Save change</button>
          </div>
        </div>
      </form>

    </div>
  </div>



  <!--  -->
  <!-- Edit Note -->


  <div class="modal fade" id="edit_Note" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <form [formGroup]='editForm' (ngSubmit)='Edit_Sent()'>

      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="container">

<!--             
            <div class="row" *ngIf=(!isload)>
              <div class="col-md-12 text-center">
                <i class="fas fa-spinner fa-spin text-light fa-2x"></i>
              </div>
            </div> -->

            <div class="row">
              <div class="col-md-12 text-center" *ngIf=(isSend)>
                <i class="fas fa-spinner fa-spin  fa-2x"></i>
                <h1>hello world</h1>
              </div>


              <div class="col-md-12">
                <h3 class="text-center">Title</h3>
                <input type='text' formControlName='title' class="form-control my-3" placeholder="Title">
              </div>

              <div class="col-md-12">
                <textarea class="form-control" formControlName='desc' rows="10"
                  placeholder="Add Description"></textarea>
              </div>
            </div>


          </div>

        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="submit" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </form>

  </div>
</div>

  <!-- Delte Note -->


  <!-- Modal -->
  <div class="modal fade" id="DeleteBtn" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
               <h3> Are You Sure Delete Note</h3>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          <button type="Submit" (click)='delete_Note()' class="btn btn-primary" >Delete Note</button>
        </div>
      </div>
    </div>
  </div>
  

</section>